{"version":3,"sources":["../../../lib/eslint/runLintCheck.ts"],"names":["runLintCheck","CommentJson","Log","VALID_SEVERITY","isValidSeverity","severity","includes","requiredPackages","file","pkg","cliPrompt","console","log","chalk","bold","cyan","cliSelect","Promise","resolve","require","default","value","values","ESLINT_PROMPT_VALUES","valueRenderer","title","recommended","selected","name","underline","yellow","unselected","config","lint","baseDir","lintDirs","eslintrcFile","pkgJsonPath","lintDuringBuild","eslintOptions","reportErrorsOnly","maxWarnings","formatter","mod","ESLint","deps","hasNecessaryDependencies","missing","some","dep","error","isYarn","resolved","get","eslintVersion","version","CLIEngine","semver","lt","red","options","useEslintrc","baseConfig","errorOnUnmatchedPattern","extensions","cache","eslint","nextEslintPluginIsEnabled","nextRulesEnabled","Map","pagesDirRules","configFile","completeConfig","calculateConfigForFile","plugins","Object","entries","rules","startsWith","length","set","pagesDir","findPagesDir","updatedPagesDir","rule","replace","warn","lintStart","process","hrtime","results","lintFiles","selectedFormatter","fix","outputFixes","getErrorResults","loadFormatter","formattedResult","formatResults","format","lintEnd","totalWarnings","reduce","sum","warningCount","output","isError","eventInfo","durationInSeconds","lintedFilesCount","lintFix","nextEslintPluginVersion","has","path","join","dirname","nextEslintPluginErrorsCount","totalNextPluginErrorCount","nextEslintPluginWarningsCount","totalNextPluginWarningCount","fromEntries","err","message","getProperError","strict","findUp","cwd","packageJsonConfig","pkgJsonContent","fs","readFile","encoding","parse","hasEslintConfiguration","exists","selectedConfig","find","opt","installDependencies","existsSync","writeDefaultConfig","ready"],"mappings":"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"}