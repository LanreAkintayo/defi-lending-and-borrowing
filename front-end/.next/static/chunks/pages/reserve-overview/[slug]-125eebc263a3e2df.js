(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{93133:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reserve-overview/[slug]",function(){return t(27904)}])},27904:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return g},default:function(){return y}});var l=t(85893),a=(t(74962),t(40874));function n(e){var s=e.token;return(0,l.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words px-4 bg-white w-full mb-6 shadow-lg rounded",children:[(0,l.jsx)("div",{className:"rounded-t mb-0 py-3 border-0",children:(0,l.jsxs)("div",{className:"flex flex-wrap",children:[(0,l.jsx)("div",{className:"relative w-full max-w-full",children:(0,l.jsx)("p",{className:"font-bold text-lg",children:"Reserve status and Configuration"})}),(0,l.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,l.jsxs)("div",{className:"block w-full overflow-x-auto ",children:[(0,l.jsxs)("div",{className:"flex sm:flex-row flex-col border mb-8 pb-8 border-r-0 border-l-0 border-t-0 border-gray-300",children:[(0,l.jsx)("div",{className:"font-medium text-lg w-6/12",children:"Supply Info"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex mt-3 sm:mt-0",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-500 text-sm ",children:"Total Supplied"}),(0,l.jsxs)("p",{className:"font-medium text-lg",children:["$",(0,a.j)(s.totalSuppliedInContract.inDollars,3)]})]}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"font-medium text-gray-500 text-sm",children:"APY "}),(0,l.jsx)("p",{className:"font-medium sm:text-lg",children:"__"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-200 my-3 px-2 rounded-md",children:[(0,l.jsx)("div",{className:"",children:"Collateral Usage: \u2714\ufe0f Can be collateral"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("span",{className:"text-sm",children:"MAX LTV"})," ",(0,l.jsxs)("span",{className:"font-medium",children:[(0,a.j)(100*s.LTV,2),"%"]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex sm:flex-row flex-col my-2 pb-8 ",children:[(0,l.jsx)("div",{className:"font-medium text-lg w-6/12",children:"Borrow Info"}),(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsxs)("div",{className:"flex mt-3 sm:mt-0",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-500 text-sm ",children:"Total Borrowed"}),(0,l.jsxs)("p",{className:"font-medium text-lg",children:["$",(0,a.j)(s.totalBorrowedInContract.inDollars,2)]})]}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsxs)("p",{className:"font-medium text-gray-500 text-sm",children:["APY Variable"," "]}),(0,l.jsxs)("p",{className:"font-medium sm:text-lg",children:[(0,a.j)(100*s.borrowAPYRate,2),"%"]})]})]})})]})]})]})}var r=t(34051),i=t.n(r),c=t(67294),o=t(550),d=t(27075),m=t(20047),x=t(97787),u=t(16923);function f(e,s,t,l,a,n,r){try{var i=e[n](r),c=i.value}catch(o){return void t(o)}i.done?s(c):Promise.resolve(c).then(l,a)}function h(e){return function(){var s=this,t=arguments;return new Promise((function(l,a){var n=e.apply(s,t);function r(e){f(n,l,a,r,i,"next",e)}function i(e){f(n,l,a,r,i,"throw",e)}r(void 0)}))}}function p(e){var s,t=e.token,n=e.actualAvailable,r=e.web3,f=e.contract,p=e.account,v=e.yourSupplies,w=(e.yourBorrows,{DAI:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSllrF9PNBf88kIx9USP5g73XDYjkMyRBaDig&usqp=CAU",WETH:"https://staging.aave.com/icons/tokens/weth.svg",LINK:"https://staging.aave.com/icons/tokens/link.svg",FAU:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5qUPi3Ar2dQZ2m9K5opr_h9QaQz4_G5HVYA&usqp=CAU",LAR:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqZs8PLHRLaGd4QfIvOYmCg30svx5dHp0y6A&usqp=CAU"}),j=(0,c.useState)(null),N=j[0],b=j[1],g=(0,c.useState)(null),y=g[0],k=g[1],A=(0,c.useState)(null),C=A[0],S=A[1],_=(0,c.useState)(null),B=_[0],L=_[1],R=(0,c.useState)(null),E=R[0],T=R[1],I=(0,c.useState)(null),P=I[0],q=I[1],D=function(){S(null),L(null),T(null),q(null),b(null),k(null)},M=function(){var e=h(i().mark((function e(s,t){var l,a,n,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new r.eth.Contract(m.Mt,s.tokenAddress),a=new r.eth.Contract(m.Mt,x[42].LARToken[0]),e.prev=2,e.next=5,(0,u.JE)(l.methods.approve(f.options.address,r.utils.toWei(t)).send({from:p.data}));case 5:return e.next=7,(0,u.JE)(f.methods.lend(l.options.address,r.utils.toWei(t)).send({from:p.data}));case 7:return n=e.sent,e.next=10,a.methods.balanceOf(p.data).call();case 10:return c=e.sent,e.next=13,(0,u.JE)(a.methods.approve(f.options.address,r.utils.toWei(c)).send({from:p.data}));case 13:L(n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),S(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(s,t){return e.apply(this,arguments)}}(),H=function(){var e=h(i().mark((function e(s,t){var l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(null),q(null),e.prev=2,e.next=5,(0,u.JE)(f.methods.borrow(r.utils.toWei(t),s.tokenAddress).send({from:p.data}));case 5:l=e.sent,q(l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),T(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(s,t){return e.apply(this,arguments)}}(),W=function(){var e=h(i().mark((function e(s){var t,l,a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.tokenAddress,l=s.name,a=s.decimals,n=w[s.name],e.prev=4,e.next=7,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:l,decimals:a,image:n}}});case 7:e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(s){return e.apply(this,arguments)}}(),U=function(){var e=h(i().mark((function e(s){var t,l,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new r.eth.Contract(m.Mt,x[42].LARToken[0]),l=t.options.address,"LAR",18,a=w.LAR,e.prev=5,e.next=8,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:l,symbol:"LAR",decimals:18,image:a}}});case 8:e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(s){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words px-4 bg-white w-full mb-6 shadow-lg rounded",children:[(0,l.jsx)("div",{className:"rounded-t mb-0 py-3 border-0",children:(0,l.jsxs)("div",{className:"flex flex-wrap",children:[(0,l.jsx)("div",{className:"relative w-full max-w-full",children:(0,l.jsx)("p",{className:"font-bold text-lg",children:"Your Info"})}),(0,l.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,l.jsx)("div",{className:"block w-full overflow-x-auto ",children:(0,l.jsx)("div",{className:"flex sm:flex-row flex-col mb-8 pb-2 border-gray-300",children:(0,l.jsxs)("div",{className:"flex w-full flex-col",children:[(0,l.jsxs)("div",{className:"flex w-full py-8 justify-between",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Wallet Balance"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("p",{className:"font-medium text-sm sm:text-base",children:[(0,a.j)(t.walletBalance.amount,2)," ",t.name]}),(0,l.jsxs)("p",{className:"font-medium text-gray-500 text-sm",children:["$",(0,a.j)(t.walletBalance.inDollars,2)," "]})]})]}),(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Available to Supply"}),(0,l.jsxs)("p",{className:"font-medium text-sm sm:text-base",children:[(0,a.j)(t.walletBalance.amount,2)," ",t.name]})]}),(0,l.jsxs)("div",{className:"flex w-full py-2 justify-between",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Available to Borrow"}),(0,l.jsxs)("p",{className:"font-medium text-sm sm:text-base",children:[" ",(0,a.j)(n,3)," ",t.name]})]}),(0,l.jsxs)("div",{className:"flex w-full pt-8",children:[(0,l.jsx)("button",{onClick:function(){return b(t)},className:"bg-gray-800 text-white p-2 rounded-md text-base",children:"Supply"}),(0,l.jsx)("button",{onClick:function(){return k(t)},className:"bg-gray-800 text-white ml-2 p-2 rounded-md text-base",children:"Borrow"})]}),(0,l.jsxs)("div",{className:"flex justify-center text-center sm:block sm:p-0 mt-2",children:[N&&(0,l.jsx)(d.Z,{token:N,supplyError:C,supplyResult:B,addLAR:U,closeModal:D,onSupply:M}),y&&(0,l.jsx)(o.Z,{token:y,closeModal:D,balance:null===(s=v.data)||void 0===s?void 0:s.yourBalance,onBorrow:H,borrowingError:E,borrowingResult:P,addBorrowedToken:W})]})]})})})]})}var v=t(24415),w=t(25675),j=t(69142),N=t(87533),b=(t(11163),t(51405)),g=!0;function y(e){var s,t=e.token,r=(0,N.$6)(),i=r.web3,c=r.contract,o=(0,j.mA)().account,d=(0,j.$9)().yourSupplies,m=(0,j.d8)().yourBorrows,x=t.userTotalAmountAvailableForBorrowInDollars/parseFloat(t.oneTokenToDollar)*.999,u=parseFloat(t.availableAmountInContract.amount),f=(0,b.C)(t,u);return u>=x?(s=x,(0,b.C)(t,s)):(s=u,f),(0,l.jsx)("div",{className:"",children:(0,l.jsxs)("div",{className:"relative bg-gray-100 ",children:[(0,l.jsx)("div",{className:"relative bg-gray-700 md:pt-32 pb-32 pt-12",children:(0,l.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full",children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex flex-wrap",children:(0,l.jsx)("div",{className:"w-full px-4",children:(0,l.jsxs)("div",{className:"relative flex sm:flex-row sm:mt-0 mt-6 flex-col xl:w-5/12 min-w-0 p-3 rounded mb-6 xl:mb-0 ",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[t.image&&(0,l.jsx)(w.default,{src:t.image,width:40,height:40,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,l.jsx)("div",{className:"text-2xl sm:text-4xl text- ml-2 text-white font-bold",children:t.name})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"flex pt-2 sm:ml-6 items-center",children:[(0,l.jsx)("div",{className:" h-9",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-910",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:1,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,l.jsx)("div",{className:" ml-2",children:(0,l.jsxs)("div",{className:"text-sm text-white",children:["Reserve Size:"," ",(0,l.jsxs)("div",{className:"font-bold text-xl",children:["$",(0,a.j)(t.totalSuppliedInContract.inDollars,2)]})]})})]}),(0,l.jsxs)("div",{className:"flex pt-2 ml-6 items-center",children:[(0,l.jsx)("div",{className:" h-9",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:2,children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),(0,l.jsx)("div",{className:" ml-2",children:(0,l.jsxs)("div",{className:"text-sm text-white",children:["Available Liquidity:"," ",(0,l.jsxs)("div",{className:"font-bold text-xl",children:["$",(0,a.j)(t.availableAmountInContract.inDollars,2)]})]})})]})]})]})})})})})}),(0,l.jsxs)("div",{className:"px-4 md:px-10 mx-auto w-full -m-24",children:[(0,l.jsxs)("div",{className:"flex flex-wrap mt-4",children:[(0,l.jsx)("div",{className:"w-full xl:w-8/12 mb-12 xl:mb-0 px-4",children:(0,l.jsx)(n,{token:t})}),(0,l.jsx)("div",{className:"w-full xl:w-4/12 px-4",children:i&&c&&o&&(0,l.jsx)(p,{token:t,actualAvailable:s,web3:i,contract:c,account:o,yourSupplies:d,yourBorrows:m})})]}),(0,l.jsx)(v.Z,{})]})]})})}}},function(e){e.O(0,[587,133,774,888,179],(function(){return s=93133,e(e.s=s);var s}));var s=e.O();_N_E=s}]);